{% load staticfiles %}
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <!-- 引入 ECharts 文件 -->
        <script type="text/javascript" src="{% static "js/echarts.js" %}"></script>
        <script src="{% static "js/china.js" %}"></script>

        <link rel="stylesheet" href="{% static "css/style.css" %}">
        <script src="{% static "js/jquery.js" %}"></script>
        <script src="{% static "js/jquery-migrate-1.1.1.js" %}"></script>
        <script src="{% static "js/script.js" %}"></script>
        <script src="{% static "js/jquery.ui.totop.js" %}"></script>
        <script src="{% static "js/superfish.js" %}"></script>
        <script src="{% static "js/jquery.equalheights.js" %}"></script>
        <script src="{% static "js/jquery.mobilemenu.js" %}"></script>
        <script src="{% static "js/jquery.easing.1.3.js" %}"></script>
    </head>
    <body class="page1" id="top">
      <!--地图-->
      <div id="china-map" style="width: 1265px;height:460px;"></div>
      <script type="text/javascript">
          var myChart = echarts.init(document.getElementById('china-map'));
          var data = {{visited_location|safe}};
          var geoCoordMap = {{geoCoordMap|safe}};
          function convertData(data) {
             var res = [];
             for (var i = 0; i < data.length; i++) {
                 var geoCoord = geoCoordMap[data[i].name];
                 if (geoCoord) {
                     res.push({
                         name: data[i].name,
                         value: geoCoord.concat(data[i].value)
                     });
                 }
             }
             return res;
          };

          function randomValue() {
              return Math.round(Math.random()*1000);
          }

          option = {
              backgroundColor:'#A8B2CA',
              title : {
                  text: '我的中国旅行足迹',
                  subtext: '',
                  left: 'center',
                  top: '40',
                  textStyle : {
                      color: '#fff'
                  }
              },
              tooltip: {},
              geo: {
                  map: 'china',
                  roam: true,
                  label: {
                      normal: {
                          show: true,
                          textStyle: {
                              color: 'rgba(0,0,0,0.4)'
                          }
                      }
                  },
                  itemStyle: {
                      normal:{
                          borderColor: '#7D7E80'
                      },
                      emphasis:{
                          areaColor: null,
                          shadowOffsetX: 0,
                          shadowOffsetY: 0,
                          shadowBlur: 20,
                          borderWidth: 0,
                          shadowColor: 'rgba(0, 0, 0, 0.5)'
                      }
                  }
              },
              series : [
                 {
                     type: 'effectScatter',
                     coordinateSystem: 'geo',
                     data: convertData(data),
                     symbolSize: 5,
                     symbolRotate: 5,
                     label: {
                         normal: {
                             formatter: '{b}',
                             position: 'right',
                             show: false
                         },
                         emphasis: {
                             show: true
                         }
                     },
                     itemStyle: {
                         normal: {
                              color: '#F06C00'
                         }
                     }
                  },
                  {
                      name: '',
                      type: 'map',
                      geoIndex: 0,
                      // tooltip: {show: false},
                      data:[
                          {name: '北京', value: randomValue()},
                          {name: '天津', value: randomValue()},
                          {name: '上海', value: randomValue()},
                          {name: '重庆', value: randomValue()},
                          {name: '河北', value: randomValue()},
                          {name: '河南', value: randomValue()},
                          {name: '云南', value: randomValue()},
                          {name: '辽宁', value: randomValue()},
                          {name: '黑龙江', value: randomValue()},
                          {name: '湖南', value: randomValue()},
                          {name: '安徽', value: randomValue()},
                          {name: '山东', value: randomValue()},
                          {name: '新疆', value: randomValue()},
                          {name: '江苏', value: randomValue()},
                          {name: '浙江', value: randomValue()},
                          {name: '江西', value: randomValue()},
                          {name: '湖北', value: randomValue()},
                          {name: '广西', value: randomValue()},
                          {name: '甘肃', value: randomValue()},
                          {name: '山西', value: randomValue()},
                          {name: '内蒙古', value: randomValue()},
                          {name: '陕西', value: randomValue()},
                          {name: '吉林', value: randomValue()},
                          {name: '福建', value: randomValue()},
                          {name: '贵州', value: randomValue()},
                          {name: '广东', value: randomValue()},
                          {name: '青海', value: randomValue()},
                          {name: '西藏', value: randomValue()},
                          {name: '四川', value: randomValue()},
                          {name: '宁夏', value: randomValue()},
                          {name: '海南', value: randomValue()},
                          {name: '台湾', value: randomValue()},
                          {name: '香港', value: randomValue()},
                          {name: '澳门', value: randomValue()}
                      ]
                  }
              ]
          };
          
          myChart.setOption(option);
      </script>
        <!--相册导航-->
      <div class="photo"> 
       <!--==============================Content=================================--> 
       <div class="content">
        <div class="ic">
         More Website Templates @ TemplateMonster.com - December 30, 2013!
        </div> 
        <div class="container_12"> 
         <div class="grid_6"> 
          <div class="p1_box left cl1"> 
           <div class="type"></div> 
           <img src="{% static "images/page1_img1.jpg" %}" alt="" /> 
           <a href="index-2.html" class="bot">Boudoir Beauty <span>7 <br />images</span></a> 
          </div> 
          <div class="p1_box left cl2"> 
           <div class="type"></div> 
           <div class="gray_block">
             Go ahead and read more about this 
            <span class="col1"><a href="http://www.huiyi8.com/?free-website-templates/" rel="nofollow">free theme</a></span> created by TemplateMonster.com.
            <br /> Wide variety of premium 
            <span class="col1"><a href="http://www.huiyi8.com/?category/art-photography-website-templates/" rel="nofollow">Art &amp; Photography templates</a></span> is to be found in the same name category at our site. 
           </div> 
           <a href="#" class="bot">Master Class<span>5 <br />comments</span></a> 
          </div> 
          <div class="p1_box left cl1 pos1"> 
           <div class="type"></div> 
           <img src="{% static "images/page1_img4.jpg" alt="" /> 
           <a href="index-2.html" class="bot">Summer Lifestyle<span>10<br />images</span></a> 
          </div> 
          <div class="p1_box left cl3 pos1"> 
           <div class="type"></div> 
           <img src="{% static "images/page1_img6.jpg" %}" alt="" /> 
           <a href="index-3.html" class="bot">Coexisting with Nature<span><strong class="fa-angle-right fa"></strong></span></a> 
          </div> 
         </div> 
         <div class="grid_6"> 
          <div class="p1_box right cl1"> 
           <div class="type"></div> 
           <img src="images/page1_img2.jpg" alt="" /> 
           <a href="index-2.html" class="bot">Pics of Nature <span>8 <br />images</span></a> 
          </div> 
          <div class="p1_box right cl3"> 
           <div class="type"></div> 
           <img src="{% static "images/page1_img3.jpg" %}" alt="" /> 
           <a href="index-3.html" class="bot">Night Sky Video<span><strong class=" fa-angle-right fa"></strong></span></a> 
          </div> 
          <div class="p1_box right cl4"> 
           <div class="type"></div> 
           <a href="#" class="bot">Inspirational Resources</a> 
          </div> 
          <div class="p1_box right cl5"> 
           <div class="type"></div> 
           <blockquote>
            To me, photography is an art of observation. It’s about finding something interesting in an ordinary place... I’ve found it has little to do with the things you see and everything to do with the way you see them. 
           </blockquote> 
           <a href="#" class="bot">Elliott Erwitt <span>8 <br />comments</span></a> 
          </div> 
          <div class="p1_box right cl2"> 
           <div class="type"></div> 
           <img src="{% static "images/page1_img7.jpg" %}" alt="" /> 
           <a href="#" class="bot">My new project<span><strong class=" fa-angle-right fa"></strong></span></a> 
          </div> 
         </div> 
         <div class="clear"></div> 
         <div class="grid_12"> 
          <a href="#" class="round"> Older Posts</a> 
         </div> 
        </div> 
       </div> 
      </div>
    </body>
</html>
